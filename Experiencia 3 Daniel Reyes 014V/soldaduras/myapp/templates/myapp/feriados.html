{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feriados Api</title>
    <link rel="icon" href="{% static 'img/galeria.jpg' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'css/feriados.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="{% static 'https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js' %}"></script>
    <script>
        $(document).ready(function() {//Verifica que inicie la pagina
            $.get("https://api.boostr.cl/holidays.json", function(data) {//Obtiene api get
                if (data && data.data) {//preguntando si existe data y data.data dentro de la api
                    var feriados = data.data;//Guarda los datos en la variable feriados
                    var contenidoTabla = '';//empieza con el contenido de la tabla en blanco
                    feriados.forEach(function(feriado) {//recorre todos los datos de data
                        contenidoTabla += '<tr>' +
                                          '<td>' + feriado.date + '</td>' +
                                          '<td>' + feriado.title + '</td>' +
                                          '<td>' + feriado.extra + '</td>' +
                                          '</tr>';
                    });
                    $('#feriados').html(contenidoTabla);//convierte en contenido html
                }
            }).fail(function() {
                console.error("Error al cargar los datos de la API");
            });
        });
    </script>
</head>
<body>
    <!--Inicio del Menu-->
    <header style="margin-bottom: -20px;">
        <nav class="navbar navbar-expand-md navbar-light bg-succes">
            <div class="container-fluid" style="margin-left: -10px">
                <!--logo-->
                <a class="navbar-brand" href="#">
                    <img src="{% static 'img/solda.jpg' %}" width="80px" height="80px">
                    <span class="text-warning">Soldaduras Especiales</span>
                </a>
                <!--boton del menu-->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"  
                    data-bs-target="#menu" aria-controls="navbarSupportedContent"  
                    aria-expanded="false" 
                    aria-label="Toggle navigation" style="margin-right: -20px; margin-left: -30px;">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <!--elementos del menu colapsable-->
                <div class="collapse navbar-collapse" id="menu">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'index' %}">Quienes Somos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'materiales' %}">Materiales</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'contacto' %}">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'galeria' %}">Galeria</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'registro' %}">Usuario</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'tienda_productos' %}">Tienda</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <!--HERO-->
    <section id="hero">
        <h1>Feriados 2024</h1>
    </section>
    <hr>
    <!--tabla feriados-->
    <div class="col-lg col-md" id="apiFeriados">
        <table class="table">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Festividad</th>
                    <th>Tipo</th>
                </tr>
            </thead>
            <tbody id="feriados">
                <!-- Los datos de los feriados se insertarán aquí -->
            </tbody>
        </table>
    </div>
    <hr>
    <div class="d-flex justify-content-center" style="margin: 30px">
        <a href="contacto.html" class="btn btn-primary">Volver</a>
    </div>
    <!--Pie de la pagina-->
    <footer class="oscuro d-flex flex-column align-items-center justify-content-center">
        <img src="{% static 'img/footer-logo.jpg' %}" class="footer-logo" alt="logo de footer">
        <p class="oscuro footer-texto text-center">Contactanos en las siguientes <br>redes sociales.</p>
        <div class="iconos-redes-sociales d-flex flex-wrap align-items-center justify-content-center">
            <a href="https://www.facebook.com/soldadurasespecialesmaipu" target="_blank" rel="noopener noreferrer">
                <i class="bi bi-facebook"></i>
            </a>
            <a href="https://www.instagram.com/soldadurasespeciales_maipu/" target="_blank" rel="noopener noreferrer">
                <i class="bi bi-instagram"></i>
            </a>
            <a href="mailto:Camilourra.1992@gmail.com" target="_blank" rel="noopener noreferrer">
                <i class="bi bi-envelope"></i>
            </a>
        </div>
        <div class="derechos">Soldaduras Especiales 2024 &#169;</div>
    </footer>
    <script src="{% static 'https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js' %}"></script>
    <script src="{% static 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>